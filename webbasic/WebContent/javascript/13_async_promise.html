<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>	
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">		
		<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>		
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>		
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
	</head>
	<body>
		<script>
			// Promise 생성하고 리턴하는 함수
			function work() {
			let promise = new Promise(function(resolve, reject) {
				// 실제 작업 내용을 정의한다.
				// ...
				
			    let result = true;
				if(result) resolve("success");
				else reject("fail");				
			});
			
			return promise;
			}
			
			// 버튼 클릭 이벤트 시 실행되는 함수
			function func1() {
				console.log("이벤트 처리 시작");
				
				// Promise 실행 방법 1
// 				work().then(
// 					// 콜백함수 정의
// 					(value) => { console.log(value + "네트워크 통신 완료")}, // resolve 에 해당되는 함수
// 					function (value) { console.log(value + "네트워크 통신 실패")}  // reject 에 해당하는 함수
// 				);
				
				
				// Promise 실행 방법 2
				work()
					.then(function (value) { console.log(value + "네트워크 통신 완료")})
					.catch(function (value) { console.log(value + "네트워크 통신 실패")})
					.finally(function() {console.log("마무리")});
				
				console.log(" 이벤트 처리 종료");
			}
			
		</script>
		
		<div class="card">
			<div class="card-header">Promise</div>
			<div class="card-body">
				<button class="btn btn-info" onclick="func1()">promise 실행</button>		
			</div>
		</div>
	</body>
</html>